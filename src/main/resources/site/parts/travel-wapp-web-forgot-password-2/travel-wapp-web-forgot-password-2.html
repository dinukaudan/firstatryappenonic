<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WAPP Web</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <meta name="description" content="content" />
    <link rel="shortcut icon" href="assets/images/favicon.ico"/>
    <link rel="stylesheet" type="text/css" href="assets/css/style.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="assets/css/public/icomoon.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="assets/css/public/jquery-ui.min.css" media="screen"/>
</head>
<body>
<div class="main-wrapper signin-pg">
    <aside>
        <a href="#" class="wapp-logo">
            <img src="assets/images/logo.png" />
        </a>
        <span class="circle"></span>
    </aside>
    <section class="content">
        <div class="signin-wrapper">
            <h2>Reset password</h2>
            <p class="mb-5">Please enter your new password below</p>
            <form method="POST" data-th-action="${portal.componentUrl({})}">
                <div class="form-group wapp-form-group">
                    <div class="form-group wapp-form-group">
                        <label>New password</label>
                        <div class="eye-pwd">
                            <input type="text"  id="password" class="form-control" name="password" value="ruwan" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[`!@#$%^&*()_+\-=\[\]{};':\\|,.<>\/?~])(?!.*wapp)(?!.*\s).{8,}" title="Must contain at least one number and special characters and one uppercase and lowercase letter, and at least 8 or more characters" required />
                            <span class="icon-eye1"></span>
                        </div>
                        <div class="mt-4 mx-3">
                            <div class="progress">

                                    <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"   id="strength1"></div>


                            </div>
                            <div class="notification-label" style="display:inline" ><i class="fa fa-info-circle" aria-hidden="true"></i> <div id="notify"></div></div>

                        </div>
                    </div>
                </div>
                <div class="my-4">
                    <button class="btn btn-primary w-100">Reset</button>
                </div>
            </form>
            <div class="text-center">
                <a  data-th-href="${portal.componentUrl({})+'?action=signin'}" class="primary-link">Return to login?</a>
            </div>
        </div>
    </section>
</div>

<script type="text/javascript">
         var pass = document.getElementById("password");
         pass.addEventListener("keyup", function () {
             checkPassword(pass.value);
         })

           function checkPassword(password) {

             var strengthBar = document.getElementById("strength1");
             var strength = 0;

              if (password.match(/[a-z]+/)) {
                 strength += 1;

             }
              if (password.match(/[A-Z]+/)) {
                 strength += 1;

             }
              if (password.match(/[0-9]+/)) {
                 strength += 1;

             }
             if (password.match(/[~<>?]+/)) {
                 strength += 1;
             }
             if (password.match(/[!@#$%^&*()]+/)) {
                 strength += 1;
             }
             if (password.length > 5) {
                 strength += 1;
             }
             if (password.match([\s])) {
                 strength -= 1;
             }
             i if (password.includes("wapp")) {
                 strength -= 1;
             }
             i if (password.includes("password")) {
                 strength -= 1;
             }
             console.log(strength);
             switch (strength) {
                 case 0:
                     strengthBar.style.width = "20%";
                     document.getElementById("notify").innerHTML = "bad !";
                     break;
                 case 1:
                    strengthBar.style.width = "30%";
                     document.getElementById("notify").innerHTML = "poor !";
                     break;
                 case 2:
                     strengthBar.style.width = "40%";
                     document.getElementById("notify").innerHTML = "good !";
                     break;
                 case 3:
                     strengthBar.style.width = "50%";
                     document.getElementById("notify").innerHTML = "good !";
                     break;
                 case 4:
                    strengthBar.style.width = "70%";
                      document.getElementById("notify").innerHTML = "very good !";
                     break;
                 case 5:
                    strengthBar.style.width = "80%";
                      document.getElementById("notify").innerHTML = "great !";
                     break;
                  case 6:
                    strengthBar.style.width = "100%";
                    document.getElementById("notify").innerHTML = "great !";
                     break;
             }
         }





      </script>



<script type="text/javascript" src="assets/js/public/jquery.js"></script>
<script type="text/javascript" src="assets/js/public/jquery-ui.min.js"></script>
<script type="text/javascript" src="assets/js/public/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="assets/js/public/moment.js"></script>
<script type="text/javascript" src="assets/js/public/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript" src="assets/js/custom.js"></script>
</body>
</html>