<div class="welcome-wrapper">
    <div class="sidebar">
        <div>
            <h4 class="pad-right-5rem">Welcome to wapp!</h4>
            <p class="pad-right-5rem mb-4">You're a hop, skip and a jump from being covered.</p>
            <ul class="register-process">
                <li class="completed">
                    <span class="register-step-no">1</span>
                    <span class="register-step-name">Account creation</span>
                </li>
                <li class="active">
                    <span class="register-step-no">2</span>
                    <span class="register-step-name">Health check</span>
                </li>
                <li>
                    <span class="register-step-no">3</span>
                    <span class="register-step-name">People on policy</span>
                </li>
                <li>
                    <span class="register-step-no">4</span>
                    <span class="register-step-name">Quote & payment</span>
                </li>
            </ul>
        </div>
        <div class="side-footnote pad-right-5rem">
            <span class="text-uppercase">All information provided is saved for 30 days</span>
        </div>
    </div>
    <div class="main-content">
        <div class="content-title">
            <a class="btn-link back-link" href="#"><i aria-hidden="true" class="fa fa-angle-left"></i> Back</a>
            <span>Create your account</span>
            <span>2/4</span>
        </div>
        <div class="content-body">
            <div class="signin-wrapper">
                <h2>Forgot your password? </h2>
                <p class="mb-5">Enter the email address associated with your account and we'll send a link to reset your
                    password.
                </p>
                <form data-th-action="${portal.componentUrl({})}" id="forgotpasswordForm" method="POST"
                      name="forgotpasswordForm">
                    <div class="form-group wapp-form-group">
                        <label>Email Address </label>
                        <input class="form-control" id="txtEmail" name="email" onkeyup="ValidateEmail();" required
                               type="text"/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <span id="lblError" style="color: #00d857"></span>
                    </div>
                    <div class="my-4">
                        <button class="btn btn-primary w-100">Send recovery link <span
                                class="icon-arrow-right pull-right"></span></button>
                    </div>
                </form>
                <div class="text-center">
                    <a class="primary-link" data-th-href="${portal.componentUrl({})+'?action=signin'}">Return to
                        login?</a>
                </div>
            </div>
        </div>


        <script type="text/javascript">
         function ValidateEmail() {
             var email = document.getElementById("txtEmail").value;
             var lblError = document.getElementById("lblError");
             lblError.innerHTML = "";
             var expr = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
             if (!expr.test(email)) {
                 lblError.innerHTML = "       Invalid email address.";
                 lblError.style.color = "#FF5733";
             }else{
                  lblError.innerHTML = "       Email valid.";
                  lblError.style.color = "   #00d857";

             }
         }


      </script>
        <script data-th-if="${#strings.equals('success',status)}" type="text/javascript">
         window.addEventListener('load', function() {
             $('#emailSentModal').modal('show');
         })

      </script>
        <script data-th-if="${#strings.equals('error',status)}" th:inline="javascript" type="text/javascript">
         window.addEventListener('load', function() {
             /*<![CDATA[*/
                 var message = /*[[${message}]]*/ 'default';
                 alert(message);
             /*]]>*/
         })

      </script>
        <!-- Modal start -->
        <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" data-backdrop="static" id="emailSentModal"
             role="dialog" tabindex="-1">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="icon-title">
                            <img data-th-src="${portal.assetUrl({'_path=travel/wapp/web/images/icons/email-sent.png'})}"
                                 width="106px"/>
                        </div>
                        <h4 class="modal-body-title">Verify your email address</h4>
                        <p class="mb-2">We've sent an email to <strong class="d-block">[[${email}]]</strong></p>
                        <p class="modal-body-txtwrap">Please verify your email address. This might be in your junk
                            folder
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary px-5" type="button">Open mail</button>
                        <p class="modal-footlink"><a class="btn-link" href="www.gmail.com">Resend email</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>